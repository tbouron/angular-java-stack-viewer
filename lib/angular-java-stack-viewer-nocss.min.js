/*!
 * angular-java-stack-viewer by Thomas Bouron
 * https://github.com/tbouron/angular-java-stack-viewer#readme
 * Version: 1.0.0 - 1477582323603
 * License: Apache-2.0
 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define("angular-java-stack-viewer",["angular"],n):"object"==typeof exports?exports["angular-java-stack-viewer"]=n(require("angular")):e["angular-java-stack-viewer"]=n(e.angular)}(this,function(e){return function(e){function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){e.exports=t(7)},,,,,,,function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){function n(e,n){e.stack=new c.Stack(e.vendors),e.$watch("vendors",function(){e.stack=new c.Stack(e.vendors),t(e,n)},!0),e.$watch("trace",function(){t(e,n)})}function t(n,t){n.trace&&(n.stack.parse(n.trace),e(function(){l.default.element(t[0].querySelector(".app")).addClass("main-error")}))}return{restrict:"EA",templateUrl:s.default,scope:{trace:"=",vendors:"="},link:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.stackViewerDirective=r;var i=t(8),s=a(i),o=t(9),l=a(o),c=t(10),u="tb.stack-viewer";l.default.module(u,[]).directive("tbStackViewer",["$timeout",r]),n.default=u},function(e,n){var t="templates/stack-viewer.html",a='<div ng-repeat="group in stack.groups track by $index" class=group ng-init="group.isCollapsed = true" ng-class="{\'has-exception\': group.exception, active: !group.isCollapsed && group.stackPackage.isVendor}"> <div ng-if=group.exception class="alert alert-warning"><span class="label label-warning">{{group.exception.exception}}</span>&nbsp;{{group.exception.message}}</div> <ul ng-class="{vendor: group.stackPackage.isVendor}"> <li ng-if=group.stackPackage.isVendor class=line> <span ng-click="group.isCollapsed = !group.isCollapsed" class=vendor-header> <span class="vendor-name label label-info">{{group.stackPackage.name}}</span>&nbsp; <small class="vendor-calls text-muted">{{group.lines.length}} more calls</small> </span> <ul class=vendor-body> <li ng-repeat="line in group.lines track by $index" class=line> {{line.javaClass}}.{{line.method}}&nbsp;<span class="label label-line" ng-if="line.line >= 0">line {{line.line}}</span> </li> </ul> </li> <li ng-if=!group.stackPackage.isVendor ng-repeat="line in group.lines track by $index" class="line app"> {{line.javaClass}}.{{line.method}}&nbsp;<span class="label label-line" ng-if="line.line >= 0">line {{line.line}}</span> </li> </ul> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(n,t){n.exports=e},function(e,n,t){!function(n,t){e.exports=t()}(this,function(){return function(e){function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),r=/([\w\d\.]*exception)\:\s*(.*)$/i,i=/((([\d\w]*\.)*[\d\w]*)\.)?([\d\w\$]*)\.([\d\w\$]*)\(([\d\w\.\s]*)(\:(\d*))?\)/,s=n.StackPackage=function(){function e(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t(this,e),!n||0===n.trim().length)throw new Error("Cannot create stack package: name is not defined");if(!(a&&a instanceof Array))throw new Error("Cannot create stack package: aliases is not defined or of a wrong type");this.name=n,this.aliases=a,this.isVendor=r,String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0===this.indexOf(e)})}return a(e,[{key:"equals",value:function(e){if(!e)return!1;if(e.name===this.name)return!0;for(var n=0;n<this.aliases.length;n++)if(this.aliases[n]===e.name||e.name.startsWith(this.aliases[n]))return!0;return!1}}]),e}(),o=n.StackLine=function e(n,a,r,i,o){if(t(this,e),!(n&&n instanceof s))throw new Error("Cannot create stack line: stack package is null or of a wrong type");this.stackPackage=n,this.javaClass=a||"Unknown",this.method=r||"Unknown",this.source=i||"Unknown",this.line=o?parseInt(o,10):-1},l=n.StackGroup=function(){function e(n){if(t(this,e),!(n&&n instanceof s))throw new Error("Cannot create stack group: stack package is null or of a wrong type");this.stackPackage=n,this.lines=[]}return a(e,[{key:"addLine",value:function(e){e instanceof o&&this.lines.push(e)}},{key:"addException",value:function(e,n){this.exception={exception:e,message:n}}}]),e}();n.Stack=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.groups=[],this.vendorPackages=[];var a=!0,r=!1,i=void 0;try{for(var o,l=Object.keys(n)[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value;this.vendorPackages.push(new s(c,n[c],!0))}}catch(e){r=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw i}}}return a(e,[{key:"parse",value:function(e){var n=this;this.groups=[];var t=null,a=e.split("\n");a.forEach(function(e){null===t&&(t=e.trim().match(r));var a=e.trim().match(i);if(null!==a){var c=new s(a[2]||"Unknown");for(var u in n.vendorPackages)if(n.vendorPackages[u].equals(c)){c=n.vendorPackages[u];break}var p=new o(c,a[4],a[5],a[6],a[8]);0===n.groups.length&&n.groups.push(new l(c));var d=n.groups[n.groups.length-1];d.stackPackage.equals(c)||(d=new l(c),n.groups.push(d)),d.addLine(p),null!==t&&(d.addException(t[1],t[2]),t=null)}})}}]),e}()}])})}])});
//# sourceMappingURL=angular-java-stack-viewer-nocss.min.js.map